<form data-request="onSignup" data-request-validate data-request-flash>
    <h3 class="mall-signup__heading">{{ 'mall.signup.signup' | _ }}</h3>

    <div class="mall-form-control">
        <label for="name">{{ 'mall.form.full_name' | _ }}</label>
        <input id="name" type="text" placeholder="{{ 'mall.form.full_name_placeholder' | _ }}" name="name">
        <div data-validate-for="name"></div>
    </div>
    <div class="mall-form-control">
        <label for="email">{{ 'mall.form.email' | _ }}</label>
        <input id="email" type="email" placeholder="email@email.com" name="email">
        <div data-validate-for="email"></div>
    </div>

    <div class="mall-signup__guest-option">
        <label class="mall-checkbox">
            <input class="js-mall-toggle-guest-signup"
                   type="checkbox" name="as_guest"
                   value="1">
            <span>
                {{ 'mall.signup.as_guest' | _ }}
            </span>
        </label>
    </div>

    <div class="mall-signup__password-inputs">
        <div class="mall-two-fields">
            <div class="mall-form-control">
                <label for="password">{{ 'mall.form.password' | _ }}</label>
                <input id="password" type="password" name="password">
                <div data-validate-for="password"></div>
            </div>
            <div class="mall-form-control">
                <label for="password_repeat">{{ 'mall.form.password_repeat' | _ }}</label>
                <input id="password_repeat" type="password" name="password_repeat">
                <div data-validate-for="password_repeat"></div>
            </div>
        </div>
    </div>

    <div class="mall-signup__billing-address">
        <h3 class="mall-signup__subheading">{{ 'mall.billing_address' | _ }}</h3>

        {% partial __SELF__ ~ '::addressform' type='billing' %}

        <div class="mall-signup__shipping-address-option">
            <label class="mall-checkbox">
                <input class="js-mall-toggle-shipping-address"
                       type="checkbox"
                       name="use_different_shipping" value="1">
                <span>
                    {{ 'mall.signup.different_address' | _ }}
                </span>
            </label>
        </div>
    </div>

    <div class="mall-shipping-address" style="display: none">
        <h3 class="mall-signup__subheading">{{ 'mall.shipping_address' | _ }}</h3>
        {% partial __SELF__ ~ '::addressform' type='shipping' %}
    </div>

    <div class="mall-form-actions">
        <button class="mall-btn mall-btn--primary mall-btn--full" type="submit">
            {{ 'mall.form.signup' | _ }}
        </button>
    </div>
</form>
